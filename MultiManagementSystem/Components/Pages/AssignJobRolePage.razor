@page "/jobrole"
@inherits LayoutComponentBase

<h3>Assign Job Role</h3>

@if (!IsManagerAuthorized)
{
    <div class="login-container">
        <h4>Manager Login</h4>
        <div class="form-group">
            <label for="managerWorkerNumber">Worker Number:</label>
            <input id="managerWorkerNumber" @bind="ManagerWorkerNumber" placeholder="Enter Worker Number" />

            <label for="managerPassword">Password:</label>
            <input id="managerPassword" type="password" @bind="ManagerPassword" placeholder="Enter Password" />
        </div>

        <button class="btn" @onclick="CheckAuthorization">Login</button>

        @if (ShowErrorMessage)
        {
            <p class="error">@ErrorMessage</p>
        }
    </div>
}
else
{
    <div class="assign-container">
        <h4>Assign Job Role</h4>
        <div class="form-group">
            <label for="workerDropdown">Select Worker:</label>

            <select id="workerDropdown" @bind="SelectedWorkerId">
                <option value="">Select a Worker</option>
                @foreach (var worker in Workers)
                {
                    <option value="@worker.Id">@worker.Name</option>
                }
            </select>

            <label for="workerJobTitle">Job Title:</label>
            <input id="workerJobTitle" @bind="WorkerJobTitle" placeholder="Enter Job Title" />

            <label for="workerSalary">Salary:</label>
            <input id="workerSalary" type="number" @bind="WorkerSalary" placeholder="Enter Salary" />

            <label for="workerDescription">Description:</label>
            <textarea id="workerDescription" @bind="WorkerDescription" placeholder="Enter Job Description"></textarea>
        </div>

        <button class="btn" @onclick="AssignJob">Assign Job</button>

        @if (Submitted)
        {
            <p class="success">Job Role Assigned Successfully!</p>
        }
    </div>
}